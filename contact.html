<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>お問い合わせ | kittoworks</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="LPテンプレ購入・LP受託制作・AI画像購入のご相談はこちら。必要事項を入力するとメール本文が自動作成され、そのまま送信できます。" />
  <link rel="stylesheet" href="style.css" />
  <style>
    header,footer{max-width:1100px;margin:0 auto;padding:14px 20px}
    header{display:flex;align-items:center;justify-content:space-between}
    header .logo a{font-weight:800;font-size:18px;color:#111;text-decoration:none}
    nav a{margin-left:14px;text-decoration:none;color:#111}
    nav a.active{font-weight:800;text-decoration:underline;text-underline-offset:6px}
    footer{color:#666;text-align:center;padding-top:32px;padding-bottom:36px}

    main{max-width:900px;margin:0 auto;padding:40px 20px}
    .panel{background:#fff;border-radius:16px;box-shadow:0 8px 24px rgba(0,0,0,.06);padding:20px;margin-bottom:20px}
    .muted{color:#666}
    .row{display:grid;grid-template-columns:1fr;gap:14px}
    @media(min-width:720px){.row{grid-template-columns:1fr 1fr}}
    label{font-weight:700;display:block;margin-bottom:6px}
    input,select,textarea{width:100%;padding:11px 12px;border:1px solid #ddd;border-radius:10px;background:#fff;font:inherit}
    textarea{min-height:140px}
    .help{font-size:12px;color:#666;margin-top:6px}
    .cta{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
    .btn{display:inline-block;padding:10px 14px;border-radius:999px;text-decoration:none;border:1px solid #111;color:#111;background:#fff}
    .btn.primary{background:#111;color:#fff;border-color:#111}
    .btn.ghost{border-color:#888}
    .req::after{content:" *";color:#e11}
    .floating-cta{position:fixed;right:12px;bottom:12px;z-index:9999;padding:.9em 1.1em;border-radius:999px;background:#111;color:#fff;font-weight:700;text-decoration:none;box-shadow:0 6px 16px rgba(0,0,0,.15)}
    @media(min-width:768px){.floating-cta{right:20px;bottom:20px}}
    .hidden{display:none!important}
    .note{font-size:12px;color:#666;margin-top:12px}
  </style>
</head>
<body>
  <!-- ヘッダー -->
  <header>
    <div class="logo"><a href="index.html">kittoworks</a></div>
    <nav>
      <a href="works.html">LP販売</a>
      <a href="shop.html">生成画像</a>
      <a href="price.html">価格表</a>
      <a class="active" href="contact.html">お問い合わせ</a>
    </nav>
  </header>

  <main>
    <h1>お問い合わせ</h1>
    <p class="muted">※ 「テンプレ名／用途（ドメイン）／納期希望」をご記入いただくとスムーズです。送信ボタンでメールアプリが開きます。</p>

    <form id="contactForm" class="panel" onsubmit="return handleSubmit(event)">
      <!-- スパム対策（ハニーポット） -->
      <input type="text" name="website" autocomplete="off" class="hidden" tabindex="-1" />

      <div class="row">
        <div>
          <label class="req">お名前</label>
          <input id="name" type="text" required placeholder="例）山田 太郎" />
        </div>
        <div>
          <label class="req">メールアドレス</label>
          <input id="email" type="email" required placeholder="例）you@example.com" />
        </div>
      </div>

      <div class="row">
        <div>
          <label class="req">お問い合わせ種別</label>
          <select id="type" required onchange="toggleFields()">
            <option value="" disabled selected>選択してください</option>
            <option value="LPテンプレ購入">LPテンプレ購入</option>
            <option value="LP受託制作">LP受託制作</option>
            <option value="AI画像購入">AI画像購入</option>
            <option value="その他">その他</option>
          </select>
        </div>
        <div>
          <label>希望連絡方法</label>
          <select id="contactWay" onchange="toggleFields()">
            <option value="メール" selected>メール</option>
            <option value="XのDM">XのDM</option>
          </select>
          <div id="xField" class="hidden">
            <div class="help">XのDM希望の方は @ユーザー名 をご記入ください。</div>
            <input id="xid" type="text" placeholder="例）@kitto_1225" />
          </div>
        </div>
      </div>

      <div id="tplBlock">
        <div class="row">
          <div>
            <label>テンプレ名／商品名</label>
            <select id="tpl">
              <option value="" selected>未選択</option>
              <option>ChatGPTプロンプト販売LP</option>
              <option>動画台本LP</option>
              <option>Twilight（アプリ/サービス紹介LP）</option>
              <option>（その他・自由入力）</option>
            </select>
          </div>
          <div>
            <label>用途（ドメイン）</label>
            <input id="domain" type="text" placeholder="例）example.com / SNS告知用 など" />
          </div>
        </div>
      </div>

      <div class="row">
        <div>
          <label>納期希望</label>
          <input id="deadline" type="date" />
          <div class="help">未定の場合は空欄でOK</div>
        </div>
        <div>
          <label>ご予算目安</label>
          <select id="budget">
            <option value="" selected>未定</option>
            <option>〜¥5,000</option>
            <option>¥5,000〜¥10,000</option>
            <option>¥10,000〜¥20,000</option>
            <option>¥20,000〜</option>
          </select>
        </div>
      </div>

      <div>
        <label class="req">ご要望・詳細</label>
        <textarea id="message" required placeholder="用途、希望イメージ、参考URLなど自由にご記入ください。"></textarea>
      </div>

      <div>
        <label><input id="agree" type="checkbox" required /> <a href="terms.html" target="_blank" rel="noopener">利用規約</a>に同意する</label>
      </div>

      <div class="cta">
        <button class="btn primary" type="submit">メールアプリを開く</button>
        <button class="btn ghost" type="button" onclick="copyToClipboard()">内容をコピーする</button>
        <a class="btn" href="https://x.com/kitto_1225" target="_blank" rel="noopener">XのDMはこちら</a>
      </div>

      <p class="note">※ メールが開かない場合は「内容をコピー」→ ご自身のメールに貼り付けて <a href="mailto:kitto1225.helpdesk@gmail.com">kitto1225.helpdesk@gmail.com</a> 宛に送信してください。</p>
    </form>

    <section class="panel">
      <h2>よくあるご質問</h2>
      <details>
        <summary>商用利用はできますか？</summary>
        <p>可能です。LPテンプレートは1ドメイン1ライセンスです（再配布・再販不可）。詳細は<a href="terms.html">利用規約</a>をご確認ください。</p>
      </details>
      <details>
        <summary>納期の目安は？</summary>
        <p>テンプレ調整のライトは約7日、構成提案を含むスタンダードは7〜14日が目安です。内容により前後します。</p>
      </details>
      <details>
        <summary>支払い方法は？</summary>
        <p>ご案内する方法（口座振込等）でのお支払いとなります。個別にご相談ください。</p>
      </details>
    </section>
  </main>

  <!-- フッター -->
  <footer>
    <p>&copy; <span id="y"></span> kittoworks — 
      <a href="https://x.com/kitto_1225" target="_blank" rel="noopener">X</a> / 
      <a href="https://instagram.com/kitto_1225works" target="_blank" rel="noopener">Instagram</a></p>
  </footer>

  <!-- 常時CTA -->
  <a class="floating-cta" href="works.html">LPテンプレを見る</a>

  <script>
    document.getElementById('y').textContent = new Date().getFullYear();

    function toggleFields(){
      const way = document.getElementById('contactWay').value;
      document.getElementById('xField').classList.toggle('hidden', way !== 'XのDM');
      const type = document.getElementById('type').value;
      document.getElementById('tplBlock').classList.toggle('hidden', type === 'その他');
    }

    function buildMailBody(){
      const f = (id)=>document.getElementById(id).value.trim();
      const name=f('name'), email=f('email'), type=f('type'), way=f('contactWay');
      const xid=f('xid'), tpl=f('tpl'), domain=f('domain'), deadline=f('deadline'), budget=f('budget'), msg=f('message');

      const lines = [
        `【お問い合わせ種別】${type || ''}`,
        `【テンプレ/商品名】${tpl || ''}`,
        `【用途/ドメイン】${domain || ''}`,
        `【納期希望】${deadline || '未定'}`,
        `【ご予算目安】${budget || '未定'}`,
        `【詳細】\n${msg || ''}`,
        `\n---`,
        `【お名前】${name}`,
        `【メール】${email}`,
        `【希望連絡方法】${way}${xid? '（'+xid+'）':''}`
      ];
      return lines.join('\n');
    }

    function handleSubmit(e){
      e.preventDefault();
      if(!document.getElementById('agree').checked){ alert('利用規約に同意してください。'); return false; }

      const websiteTrap = document.querySelector('input[name="website"]');
      if(websiteTrap && websiteTrap.value){ return false; } // bot

      const type = document.getElementById('type').value || 'お問い合わせ';
      const tpl  = document.getElementById('tpl').value || '';
      const subject = encodeURIComponent(`【${type}】${tpl ? ' ' + tpl : ''}（kittoworks）`);
      const body    = encodeURIComponent(buildMailBody());
      const to      = "kitto1225.helpdesk@gmail.com"; // 宛先を必要に応じて統一
      location.href = `mailto:${to}?subject=${subject}&body=${body}`;
      return false;
    }

    function copyToClipboard(){
      const text = buildMailBody();
      navigator.clipboard.writeText(text).then(()=>{
        alert('内容をコピーしました。メールに貼り付けて送信してください。');
      });
    }
  </script>
</body>
</html>
